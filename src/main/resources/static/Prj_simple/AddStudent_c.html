  <style>
    /* Custom style for input fields */
    .form-control {
      margin-bottom: 10px;
      padding: 8px;
    }

    .table-sm {
      font-size: 16px; /* Reduce font size */
    }

    .table-sm th,
    .table-sm tr td{
      vertical-align: middle;
      align-items: center;
      justify-content: center;
      padding: 0.1rem; /* Reduce padding */
    }

    .btn-link {
      transition: transform 0.3s ease;
    }

    .btn-link:hover {
      transform: scale(1.1);
    }


    @keyframes fadeInRow {
      0% {
        opacity: 0;
      }
      100% {
        opacity: 1;
      }
    }
    
    /* Apply the animation to the table rows */
    .table-fade-in {
      animation: fadeInRow 0.5s ease-in-out;
    }


    /* Loading Spinner Overlay Start*/
    .loading-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.7); /* Semi-transparent black background */
      z-index: 9998; /* Ensure it's behind the loading screen but above the main content */
    }
    
    .loading-screen {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: #fff;
      padding: 20px;
      border-radius: 5px;
      font-size: large;
    }
    
    .loading-spinner {
      border: 8px solid #f3f3f3; /* Increase the border width */
      border-top: 8px solid #3498db; /* Increase the border width */
      border-radius: 50%;
      width: 60px; /* Increase the width */
      height: 60px; /* Increase the height to maintain a circular shape */
      animation: spin 1s linear infinite;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    #main-content {
      display: relative; /* Hide main content until API responds */
    }
    
    #main-content.loading {
      /* Styles for dimming the main content */
      pointer-events: none; /* Allow clicks to pass through the loading overlay */
      opacity: 0.5; /* Dim the main content */
    }

    /*Loading Spinner Overlay End*/



    .keys {
      font-weight: bold;
    }

    .jumbotron {
      background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.6)), url('../Prj_simple/img/ready-back-school.jpg');
      background-size: cover;
      background-attachment: fixed; /* This creates the scrolling effect */
      color: white;
    }

    .transparent-btn {
      background-color: transparent;
      color: rgba(228, 228, 228, 0.781);
      border: 1px solid rgba(132, 144, 145, 0.5);
    }

    .btn-shine{
      color: #ffffff;
      background: linear-gradient(to right, #349add 0, rgb(30, 154, 255) 10%, rgb(255, 255, 255) 20%);
      background-position: 0;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: shine 3s infinite linear;
      animation-fill-mode: forwards;
      -webkit-text-size-adjust: none;
      font-weight: 600;
      font-size: 16px;
      text-decoration: none;
      white-space: nowrap;
    }

    @keyframes shine {
    0%{background-position: 0;}
    60% {background-position: 180px;}
    100% {background-position: 180px;}
    }
  
    .floating-div {
      position: fixed;
      top: 10%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 80%;
      max-width: 900px;
    }

    .shake-invalid {
      animation: shake 0.5s;
    }
    
    @keyframes shake {
      0%, 100% {
        transform: translateX(0);
      }
      10%, 30%, 50%, 70%, 90% {
        transform: translateX(-10px);
      }
      20%, 40%, 60%, 80% {
        transform: translateX(10px);
      }
    }


    /* Style for the student details block */
    .studentDetailsBlock {
      margin: 30px;
      padding: 5px;
      /* background-color: #b3abae; */
      border: 2px solid #141414;
      border-radius: 5px;
      box-shadow: 10px 10px 5px #b3abae;
      text-decoration-color: #281684;
      text-shadow: #b6847b;
      background-color: #d2d0d0;
      font-weight: bolder;
      
    }
  
    .title {
      color: rgb(21, 1, 46);
      margin-bottom: 20px;
    }
  
    .table {
      width: 100%;
      border-collapse: collapse;
    }
  
    .keys {
      font-weight: bold;
      color: #333;
    }
  
    /* Add more specific styles to individual cells if needed */
    td {
      padding: 10px;
      border: 1px solid #f7f5f5;
      color: #211b71;
    }
  
    body {
      background-image: url("I1.jpg"); /* Replace with your image URL */
      background-repeat: no-repeat; /* Prevent image from repeating */
      background-size: cover; /* Scale the image to cover the entire background */
      background-position: center center; /* Position the image in the center */
    }

    #main-content {
      padding: 1px 30px;
      background-image: url("./I7.jpg"); /* Replace with your image URL */
      background-repeat: no-repeat; /* Prevent image from repeating */
      background-size: cover; /* Scale the image to cover the entire background */
      background-position: center center;
      border-radius: 5px;
    }
  
  input::file-selector-button {
    background-image: linear-gradient(
      to right,
      #ff7a18,
      #af002d,
      #319197 100%,
      #319197 200%
    );
    background-position-x: 0%;
    background-size: 200%;
    border: 0;
    border-radius: 8px;
    color: #fff;
    padding: 0.50rem 1rem;
    text-shadow: 0 1px 1px #333;
    transition: all 0.25s;
  }
  
  


  .nav-tabs {
    background-color: #333;
    border-bottom: 2px solid #b6847b;
  }

  .nav-link {
    color: #fff;
    border: none;
    transition: 0.3s;
    font-size: 16px; /* Adjust the font size as needed */
    padding: 16px 30px; 
   
  }

  .nav-link.active {
    background-color: #f3dcb6;
    border: none;
    font-weight: bold;
  }

  .nav-link:hover {
    background-color: #b5e2f5;
    color: #03011e;
    /* box-shadow: 0 5px 35px 0px rgba(252, 34, 34, 0.1); */
  }

  /* css for marquee */
  .holder {
    /* background: #ccc; */
    background-image:url('board2.webp');
    padding: 0.1rem;
    overflow: hidden;
    background-repeat: no-repeat; /* Prevent image from repeating */
    background-size: cover;
    border: 4px solid #490303;
  }
  .news {
    animation: slide 15s linear infinite;
    font-size: 22px;
    font-weight: bold;
    color: white;
  }
  @keyframes slide {
    0% {
      transform: translatex(0%);
    }

    100% {
      transform: translatex(100%);
    }
  }

  </style>

    <!-- spinner overlay -->
    <div class="loading-overlay" id="loadingOverlay">
      <div class="loading-screen">
          <div class="loading-spinner"></div>
          <p>Loading...</p>
        </div>
    </div>

    <div id="noticeSection">
      
    </div>
    <h1
    style="
      color: #e4e9ee;
      font: 50px;
      font-family: Raleway;
      text-align: center;
      position: center;
      background-image: url('./si1.jpg');
      display: flex; 
      align-items: center;
      padding-left: 10%;
      padding-bottom: 15px;
      padding-top: 15px;"><img src="logo.png" alt="Image" style="width: 100px; height: auto; margin-right: 10px;" >
    Smt. Premalatai Chavan Polytechnic, Karad
    <h4 style="text-align: center; color: #1c0122; font-family:Verdana, monospace; font-weight: bolder;">COMPUTER DEPARTMENT</h4></h1>
  
  <div class="holder">
    <div class="news">Welcome to PCPK Computer Department Portal</div>
  </div>
    <div id="main-content" class="container mt-5">
    <div class="row floating-div">
      <div class="col">
        <div class="alert-container"></div>
      </div>
    </div>
    <ul class="nav nav-tabs">
      <li class="nav-item">
        <a class="nav-link active" data-toggle="tab" href="#student-details">Student Details</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" data-toggle="tab" href="#assignments">Assignments</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" data-toggle="tab" href="#tests">Tests</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" data-toggle="tab" href="#notes">Notes</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" target="_blank" href="https://candidate.speedexam.net/signin.aspx?site=pcpkcomputer">MCQ Exam</a>
      </li>
      <!-- <li class="nav-item">
        <a class="nav-link" data-toggle="tab" href="#">Feedback</a>
      </li> -->
      <li class="nav-item ml-auto">
        <a class="nav-link" id="logoutUser" data-toggle="tab" href="#"><i class="fa fa-sign-out"></i></a>
      </li>
    </ul>

    
    <div class="tab-content mt-4">
      <!-- Student Details Tab Content -->
      <div id="student-details" class="tab-pane fade show active">
        <div class="alert alert-success" id="success-alert3">
          <button type="button" class="close" data-dismiss="alert">x</button>
          <strong>Message!</strong>
          No student details found!
       </div>
       <!-- <div class="alert alert-danger" id="success-dange3">
        <button type="button" class="close" data-dismiss="alert">x</button>
        <strong>Message!</strong>
        No student details found!
     </div> -->
     <div class="jumbotron jumbotronClz">
      <h1 class="display-4">Hello, Student!</h1>
      <p class="lead">This is a student information unit.</p>
      <hr class="my-4">
      <p>To get started, create an Enrollment to embed within the system.</p>
      <button id="studentEnrollFormBtn" class="btn-shine btn btn-primary btn-lg" data-toggle="modal" data-target="#studentEnrlmtFormModal">Enroll here</button>
    </div>

      <!-- Bootstrap Modal for Adding Assignment -->
      <div class="modal fade" id="studentEnrlmtFormModal" tabindex="-1" role="dialog" aria-labelledby="addAssignmentModalLabel"
      aria-hidden="true" data-backdrop="static">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="addAssignmentModalLabel">Submit Enrollment</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <div class="form">
              <form class="form">
                <div class="row">
                  <div class="col">

                    <div class="form-group mr-2">
                      <label for="enrollmentId">Enrollment ID:</label>
                      <input type="text" class="form-control" id="enrollmentId" name="enrollmentId" required maxlength="10">
                    </div>
                  </div>
                  <div class="col">

                    <div class="form-group mr-2">
                      <label for="branch">Branch:</label>
                      <input type="text" class="form-control" id="branch" name="branch" required>
                    </div>
                  </div>
                </div>

                <div class="row">
                  <div class="col">
                    <div class="form-group mr-2">
                      <label for="contactno">Contact Number:</label>
                      <input type="text" class="form-control" id="contactno" name="contactno" required maxlength="10">
                    </div>
                  </div>
                  <div class="col">
                    <div class="form-group mr-2">
                      <label for="previousSemResult">Previous Semester Result:</label>
                      <input type="text" class="form-control" id="previousSemResult" name="previousSemResult" required>
                    </div>
                  </div>
                </div>

                <div class="row">
                  <div class="col">
                    <div class="form-group mr-2">
                      <label for="fullname">Full Name:</label>
                      <input type="text" class="form-control" id="fullname" name="fullname" required>
                    </div>
                  </div>
                </div>

                <div class="row">
                  
                  <div class="col">
                    <div class="form-group mr-2">
                      <label for="rollno">Roll Number:</label>
                      <input type="text" class="form-control" id="rollno" name="rollno" required maxlength="4">
                    </div>
                  </div>
                  <div class="col">
                    <div class="form-group">
                      <label for="semester">Semester:</label>
                      <input type="text" class="form-control" id="semester" name="semester" required maxlength="1">
                    </div>
                  </div>
                </div>


                <button type="button" id="btnSaveStudent" class="btn btn-primary ml-2">Submit</button>
                <!-- <button type="button" id="getStudentDetails" class="btn btn-primary ml-2">View Student Details</button> -->
         
              </form>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            <!-- <button type="button" id="submitAssignment" class="btn btn-primary">Submit</button> -->
          </div>
        </div>
      </div>
    </div>

     <!-- <h3>Student Enrollment Form</h3> -->
     <!-- <div class="alert alert-success" id="success-alert">
         <button type="button" class="close" data-dismiss="alert">x</button>
         <strong>Message!</strong>
         No student details found!
      </div> -->
     
        <br>
        <div class="alert alert-danger" id="success-alert">
          <button type="button" class="close" data-dismiss="alert">x</button>
          <strong>Message!</strong>
          No student details found!
       </div>

        <div id="studentDetailsBlock" class="studentDetailsBlock">
          <h4 style="color: rgb(20, 2, 42);font-style:unset;font-weight: bolder;font-family: Verdana, Geneva, Tahoma, sans-serif; text-align: center;"><img src="stlogo.jpg" alt="Image" style="width: 40px; height: auto; margin-right: 10px;" >
            STUDENT ENROLLMENT DETAILS <span id="ediStudentEnrDetailsBtn" data-toggle="modal" data-target="#studentEnrlmtFormModal" class="btn btn-link mt-2 mr-2 float-right" style="text-decoration: none;"><i class="fa fa-edit"></i> Edit</span></h4>
        <br>
          <table class="table" id="studentDetailsTbl">
            
            <tbody>
              <tr>
                <td class="keys">Roll No:</td>
                <td class="rollnoVal"></td>
                <td class="keys">Full Name:</td>
                <td class="fullnameVal"></td>
                <td class="keys">Contact No:</td>
                <td class="contactVal"></td>
                <td class="keys">Enrollment No:</td>
                <td class="enrNoVal"></td>
              </tr>
              <tr>
                
                <td class="keys">Semester:</td>
                <td class="semesterVal"></td>
                <td class="keys">Email:</td>
                <td class="emailVal"></td>
                <td class="keys">Previous Sem Result:</td>
                <td class="prevSemResultVal"></td>
                <td class="keys">Mentor/Mentee:</td>
                <td class="mentorNameVal"></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <!-- Assignments Tab Content -->
      <div id="assignments" class="tab-pane fade">
        <h3>Assignments</h3>
        <div class="row mt-1 mb-1">
          <div class="col">
            <div class="alert alert-success" id="success-alert2">
                <button type="button" class="close" data-dismiss="alert">x</button>
                <strong>Assignment Update Information!</strong>
                Assignments have been updated in student details.
              </div>
          </div>
        </div>
        <div class="row mt-1 mb-1">
          <div class="col">
            <div class="alert alert-success" id="success-alertAssign">
                <button type="button" class="close" data-dismiss="alert">x</button>
                <strong>Assignment Update Information!</strong>
                Assignments have been updated in student details.
              </div>
          </div>
        </div>
        <!-- <div class="row mt-1 mb-1">
          <div class="col">
            <div class="alert alert-success" id="success-alertAssignCode">
                <button type="button" class="close" data-dismiss="alert">x</button>
                <strong>Assignment Update Information!</strong>
                Assignments codes have been received, Check dropdown box
              </div>
          </div>
        </div> -->
        <div class="row">
          <div class="col">
            
            <!-- Add Assignment Button -->
            <div class="row mb">
              <div class="col-md">
                <button id="getAssignmentBtn" class="btn btn-primary float-right"><i class="fa fa-file-text mr-2"></i>Get Assignment</button>
              </div>
            </div>
    
            <!-- Bootstrap Form for Adding Assignment -->
            <div class="row">
              <div class="col-md">
                <form>
                  <div class="form-group">
                    <label for="rollNoInput">Roll No</label>
                    <input type="text" class="form-control" id="rollNoInput" placeholder="Roll no auto visible after Get Assignment Button Click" disabled>
                  </div>
                  <div class="form-group">
                    <label for="code">Assignment Code</label>
                    <!-- <input type="text" class="form-control" id="code" placeholder="Enter roll no"> -->
                    <select name="assignmentCode" class="form-control" id="assignmentCode">
                      <option value="--SELECT--">--SELECT--</option>
                    </select>
                  </div>
                  <div class="form-group">
                    <label for="question">Assignment</label>
                    <textarea disabled class="form-control" readonly id="assignmentsTxt" rows="10" placeholder="Assignments will be diplayed here"></textarea>
                  </div>
                  <div class="form-group float-right">
                    <input type="file" name="submitAssignment" id="submitAssignmentFile">
                    <button type="button" id="assgnmtSubmitBtn" class="btn btn-primary"><i class="fa fa-share-square" aria-hidden="true"></i> Submit Assignment</button>
                  </div>
                  <div class="form-group float-left">
                    <button type="button" id="getSubmittedAsgnmnts" class="btn btn-info"><i class="fa fa-check-circle" aria-hidden="true"></i> View Submitted Assignments</button>
                  </div>
                </form>
              </div>
    
              <!-- <div class="row mb-3">
                <div class="col">
                  <button class="btn btn-primary" data-toggle="modal" data-target="#addAssignmentModal">Add Assignment</button>
                </div>
              </div> -->
      
              <!-- Bootstrap Modal for Adding Assignment -->
              <div class="modal fade" id="addAssignmentModal" tabindex="-1" role="dialog" aria-labelledby="addAssignmentModalLabel"
                aria-hidden="true" data-backdrop="static">
                <div class="modal-dialog" role="document">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h5 class="modal-title" id="addAssignmentModalLabel">Submit Assignment</h5>
                      <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                      </button>
                    </div>
                    <div class="modal-body">
                      <div class="form-row">
                        <div class="form-group col-md-6">
                          <label for="branch">Branch</label>
                          <input type="text" class="form-control" id="branch" placeholder="Enter branch">
                        </div>
                        <div class="form-group col-md-6">
                          <label for="semester">Semester</label>
                          <input type="text" class="form-control" id="semester" placeholder="Enter semester">
                        </div>
                      </div>
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                      <button type="button" id="submitAssignment" class="btn btn-primary">Submit</button>
                    </div>
                  </div>
                </div>
              </div>
              <!-- <div class="col-md-7">
                <div class="studentDetailsClz1">
                  <table class="table table-sm table-striped" id="viewAssignmentTbl">
                    <thead>
                      <tr>
                        <th scope="col">Sr No</th>
                        <th scope="col">Assignments</th>
                        <th scope="col">Action</th>
                      </tr>
                    </thead>
                    <tbody>
                    </tbody>
                  </table>
                </div>
                <div class="container mt-5">
                  <div class="text-center d-none" id="spinnerContainer">
                    <div class="spinner-border text-primary" role="status">
                      <span class="sr-only">Loading...</span>
                    </div>
                  </div>
                  <div class="text-center d-none" id="contentContainer">
                  </div>
                </div>
              </div> -->
              
              <div class="modal fade" id="myModal">
                <div class="modal-dialog modal-xl">
                  <div class="modal-content">
                    <!-- Modal Header -->
                    <div class="modal-header">
                      <h4 class="modal-title">Student Information</h4>
                      <button type="button" class="close" data-dismiss="modal">&times;</button>
                    </div>
              
                    <!-- Modal Body -->
                    <div class="modal-body">
                      <!-- Bootstrap table -->
                      <table id="submittedAssignmentsTbl" class="table table-bordered table-sm">
                        <thead>
                          <tr>
                            <th>Sr. No.</th>
                            <th>Full Name</th>
                            <th>Semester</th>
                            <th>Attachments</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr>
                            <td>1</td>
                            <td>John Doe</td>
                            <td>5th</td>
                            <td>file1.pdf</td>
                          </tr>
                          <tr>
                            <td>2</td>
                            <td>Jane Smith</td>
                            <td>3rd</td>
                            <td>file2.docx</td>
                          </tr>
                          <!-- Add more rows as needed -->
                        </tbody>
                      </table>
                    </div>
              
                    <!-- Modal Footer -->
                    <div class="modal-footer">
                      <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    </div>
                  </div>
                </div>
              </div>

            </div>
            <div class="row my-4">
              <div class="col">
                <div class="table-responsive applyshadowStyle">
                  <h3 id="tableheaderTxt" class="text-center" hidden>Submitted Assignment Details</h3>
                  <table id="studSubmittedAssgnmtsTbl" class="table table-sm table-striped table-fade-in" aria-hidden="true" hidden>
                    <thead>
                      <tr>
                        <th>Sr No</th>
                        <th>Roll No</th>
                        <!-- <th>Assignment</th> -->
                        <th>Code</th>
                        <th>Status</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>

                      </tr>
                    </tbody>
                  </table>
                  </div>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col">
            <ol id="questionOlList">
              
            </ol>
          </div>
        </div>
        
        <!-- End of Bootstrap Form -->
        <!-- Your content for Assignments tab goes here -->
        <!-- Add more content as needed -->
      </div>

      <!-- Tests Tab Content -->
      <div id="tests" class="tab-pane fade">
        <h3>Tests</h3>
        <!-- Your content for Tests tab goes here -->
        <form class="form-inline">

          <!-- Roll Number Input -->
          <div class="form-group mr-2">
            <label for="rollnotest" class="sr-only">Roll Number</label>
            <input type="text" class="form-control" id="rollnotest" name="rollnotest" placeholder="Roll no will auto populate" readonly disabled>
          </div>

          <!-- Submit Button -->
          <button type="button" id="getMarksBtn" class="btn btn-primary mb-2 mr-3">Get Marks</button>
          <div class="alert alert-warning" id="success-TestMarks">
            <button type="button" class="close" data-dismiss="alert">x</button>
            <strong>Message!</strong>
            No student details found!
         </div>

          <div class="row">
            <div class="col">
              <div class="alert-container-studentTestMarks" style="z-index: auto;"></div>
            </div>
          </div>

          <div class="alert alert-success" id="success-alert1">
            <button type="button" class="close" data-dismiss="alert">x</button>
            <strong>Message Update Information!</strong>
            Marks have been updated in student details.
          </div>
          <div class="alert alert-warning" id="warning-alert">
            <button type="button" class="close" data-dismiss="alert">x</button>
            <strong>Message Update Information!</strong>
            No Data found to update in student details.
          </div>

        </form>

        <div class="row">
          <div class="col">
            <p class="marksAddedJson"></p>
            
          </div>
        </div>

        <div class="row">
          <div class="col">
            <table id="marksAddedtbl" class="table table-sm">
              <thead>
                <tr>
                  <th>Roll No</th>
                  <th>Subject</th>
                  <th>Test</th>
                  <th>Marks</th>
                  <!-- <th>Action</th> -->
                </tr>
              </thead>
              <tbody>

              </tbody>
            </table>
          </div>
        </div>

      </div>

      <!-- Notes Tab Content -->
      <div id="notes" class="tab-pane fade">
        <h3>Notes</h3>
        <!-- Your content for Notes tab goes here -->
        <div class="row">
          <div id="my-alert" class="alert alert-danger hidden" role="alert">
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">    
                <span aria-hidden="true">&times;</span>
            </button> 
            <strong>Error:</strong> Failed to processing data from the API. Please try again later.
          </div>
        </div>
        <div class="row">
          <div class="col">
            <form class="form">

             
          
              <!-- Submit Button -->
              <button type="button" id="getNotes" class="getNotes btn btn-primary mb-2 mr-3">Get Notes</button>
              <div class="row">
                <div class="col">
                  <div class="alert-container-student" style="z-index: auto;"></div>
                </div>
              </div>
              
            
              
            </form>
          </div>
        </div>
        <div class="row">
          <div class="col">
            <div class="notesDetailsClz">
              <table class="table table-sm table-striped table-fade-in" id="notesDetailsTbl">
                <thead>
                  <tr>
                    <th scope="col">Sr No</th>
                    <th scope="col">Branch</th>
                    <th scope="col">Semester</th>
                    <th scope="col">Subject</th>
                    <th scope="col">File Name</th>
                    <th scope="col">Notes</th>
                  </tr>
                </thead>
                <tbody>
                  
                <!-- Add more rows as needed -->
                </tbody>
              </table>
              <div class="text-center mt-3" id="loadingSpinner" style="display: none;">
                <div class="spinner-border text-primary" role="status">
                  <span class="sr-only">Loading...</span>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="modal fade" id="myModal2">
            <div class="modal-dialog modal-xl">
              <div class="modal-content">
                <!-- Modal Header -->
                <div class="modal-header">
                  <h4 class="modal-title">Student Information</h4>
                  <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
          
                <!-- Modal Body -->
                <div class="modal-body">
                  <!-- Bootstrap table -->
                  <div class="row">
                    <div class="col-md-6">
                      <div class="form-group">
                        <label for="semTxt">Semester</label>
                        <input type="text" class="form-control" id="semTxt" placeholder="Enter semester" />
                      </div>
                      <div class="form-group">
                        <button type="button" class="btn btn-primary" id="btnUpload">Upload</button>
                      </div>
                    </div>
                  </div>
                  
                </div>
          
                <!-- Modal Footer -->
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="modal fade" id="myModal3" data-backdrop="static">
            <div class="modal-dialog modal-xl">
              <div class="modal-content">
                <!-- Modal Header -->
                <div class="modal-header">
                  <h4 class="modal-title">Download Notes</h4>
                  <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
          
                <!-- Modal Body -->
                <div class="modal-body">
                  <!-- Bootstrap table -->
                  <div class="row">
                    <div class="col-md-6">
                      <div class="form-group">
                        <label for="semesterNotes">Semester</label>
                        <input type="text" class="form-control" id="semesterNotes" placeholder="Enter semester" />
                      </div>
                      <div class="form-group">
                        <button type="button" class="btn btn-primary" id="btnGetNotes">
                          <span class="spinner-border spinner-border-sm spinnerInlineBtn" style="display: none;" role="status" aria-hidden="true"></span>
                          Fetch Notes</button>
                      </div>
                    </div>
                  </div>
                  
                </div>
          
                <!-- Modal Footer -->
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>

    



<script>

  $(document).ready(function(){
      var fullname = $('#main-container').attr('data-fullname');
      fullname = (fullname == undefined) ? "Student":fullname;
      $('.jumbotron>h1').text('Hello, '+fullname+'!');
      callgetStudentDetails();

      function callgetStudentDetails(){
        var rollno = $('#main-container').attr('data-rollno')
        getStudentDetails(rollno)
      }

      $('.studentDetailsBlock').hide();
      $("#success-alert").hide();
      $("#success-alert1").hide();
      $("#success-alert2").hide();
      $("#success-alert3").hide();
      $("#success-alertAssign").hide();
      $("#success-dange3").hide();
      $("#success-alertAssignCode").hide();
      $("#warning-alert").hide();
      $("#my-alert").hide();
      $("#success-TestMarks").hide();

      function showLoadingSpinner() {
        document.getElementById('loadingSpinner').style.display = 'block';
      }
      
      // Function to hide loading spinner
      function hideLoadingSpinner() {
        document.getElementById('loadingSpinner').style.display = 'none';
      }

      function showSpinnerOverlay(){
        $(".loading-overlay").fadeIn();
        $(".loading-screen").fadeIn();
        $("#main-content").addClass("loading");
        //$("#main-content").fadeOut();
      }

      function hideSpinnerOverlay(){
        $(".loading-screen").fadeOut();
        //$("#main-content").fadeIn();
        $("#main-content").removeClass("loading");
        $(".loading-overlay").fadeOut();
      }
      
      function showAlert(message, type,customClz) {
        
        const alertContainer = $('.alert-container');
        const alertDiv = $(`<div class="alert alert-${type} alert-dismissible fade show">${message} <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button></div>`);
        alertContainer.append(alertDiv);
      
        // Show the alert with fade-in animation
        alertDiv.fadeIn('slow');
      
        // Hide the alert after 3 seconds with fade-out animation
        setTimeout(function() {
          alertDiv.fadeOut('slow', function() {
            $(this).remove();
          });
        }, 3000);
      }

      $('#btnSaveStudent').click(function(){
          addStudent();
          
      });

      $('#getNotes').click(function(){
        getNotes();
      })


      $('#getStudentDetails').click(function getStudent() {
        getStudentDetails();
      })

      $('#assgnmtSubmitBtn').click(function() {
        submitAssignment();
      })

      $('#getMarksBtn').click(function(){
        getMarksTest();
      })

      $('#studentEnrollFormBtn').click(function(){
        studentEnrollFormModal();
      })

      $('#getSubmittedAsgnmnts').click(function(){
        getSubmittedAsgnmnts();
      })

      $('#enrollmentId').blur(function(){
        checkIfEnrlmntExists();
      })

      $('#rollno').blur(function(){
        checkIfRollNoExists();
      })

      $('#logoutUser').click(function(){
        showSpinnerOverlay();
        window.location.replace("/Prj_simple/index.html");
        hideSpinnerOverlay();
      })

      $('#ediStudentEnrDetailsBtn').click(function(){
        var rn = $('#main-container').attr('data-rollno');
        if(rn != null && rn !=undefined && rn !==""){
          $.ajax({
            type: "GET",
            dataType: "json",
            url: "http://localhost:8081/getStudentDetails/" + rn,
            contentType: 'aaplication/json',
            success: function(data) {
                $('#main-container').attr('data-mentorname', data.mentorName);
                fillModal(data);
            },
            error: function (error) {
              
                alert("error " + error);
                //$("#success-dange3").fadeTo(3000, 500).slideUp(500, function(){
                  //  $("#success-dange3").slideUp(700);
                //});
              }
            });
          }
      })

      function fillModal(data) {
        if(data!=null && data.rollno != null && data.fullname != null && data.semester != null){
          //$('#studentDetailsTbl>tbody').append('<tr><td>'+data.rollno+'</td><td>'+data.fullname+'</td><td>'+data.contactno+'</td><td>'+data.enrollmentId+'</td><td>'
            //+data.semester+'</td><td>'+data.branch+'</td><td>'+data.previousSemResult+'</td></tr>');
            $('#rollno').val(data.rollno);
            $('#fullname').val(data.fullname);
            $('#contactno').val(data.contactno);
            $('#enrollmentId').val(data.enrollmentId);
            $('#semester').val(data.semester);
            $('#branch').val(data.branch);
            $('#previousSemResult').val(data.previousSemResult);
            $('#main-container').attr('data-studentDetailsId',data.studentDetailsId);
        }
      }

      function checkIfRollNoExists() {
        var rollNo = $('#rollno').val();
        if(rollNo != null && !$.isEmptyObject(rollNo) && $.isNumeric(rollNo)){
          $.ajax({
            type: "GET",
            dataType: "json",
            url: "http://localhost:8081/checkIfRollNoExists/"+rollNo,
            contentType: 'aaplication/json',
            success: function(data) {
                if(data !=null && data>0){
                  //fillStudSubmittedAssignmentsTable(data);
                  alert("RollNo already exists!");
                  $('#rollno').val('');
                }
              },
              error: function (error) {
                alert("error " + error);
              }
            });
        }
      }

      function checkIfEnrlmntExists () {
        var enrId = $('#enrollmentId').val();
        if(enrId != null && !$.isEmptyObject(enrId) && $.isNumeric(enrId)){
          $.ajax({
            type: "GET",
            dataType: "json",
            url: "http://localhost:8081/checkIfEnrlmntExists/"+enrId,
            contentType: 'aaplication/json',
            success: function(data) {
                if(data !=null && data>0){
                  //fillStudSubmittedAssignmentsTable(data);
                  alert("Enrollment already exists!");
                  $('#enrollmentId').val('');
                }
              },
              error: function (error) {
                alert("error " + error);
              }
            });
        }
      }

      function getSubmittedAsgnmnts () {
        var rollNoGlobal = $('#main-container').attr('data-rollno');
        if(rollNoGlobal == null || $.isEmptyObject(rollNoGlobal) || !$.isNumeric(rollNoGlobal)){
          return;
        }
        showSpinnerOverlay();
        $.ajax({
          type: "GET",
          dataType: "json",
          url: "http://localhost:8081/getSubmittedAssignmentsByRollNo/"+rollNoGlobal,
          contentType: 'aaplication/json',
          success: function(data) {
              hideSpinnerOverlay();
              $('#spinnerContainer').addClass('d-none');
              if(data !=null && data.length>0){
                fillStudSubmittedAssignmentsTable(data);
              } else {
                showAlert("No Data found", "info");
              }
            },
            error: function (error) {
              hideSpinnerOverlay();
              $('#spinnerContainer').addClass('d-none');
              alert("error " + error);
              
            }
          });
          
      }

      function fillStudSubmittedAssignmentsTable(data) {
          $('#studSubmittedAssgnmtsTbl>tbody').html('');
          $('#studSubmittedAssgnmtsTbl').prop('hidden', false);
          $('#tableheaderTxt').prop('hidden', false);
          var borderShadowStyle = 'padding:1rem; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.35); border-radius:5px;';
          $('.applyshadowStyle').prop('style',borderShadowStyle);
          if(data != null && data.length > 0) {
            var counter =0;
            var tick ="<i class='fa fa-check' style='color:#44bf22'></i>"
            data.forEach(e => {
              $('#studSubmittedAssgnmtsTbl>tbody').append('<tr><td>'+(++counter)+'</td><td>'+(e.rollno)+'</td><td>'+e.code+'</td><td>'+tick+' '+e.assignmentStatus+'</td></tr>');
            });
          } else {
            $("#success-alert").fadeTo(3000, 500).slideUp(500, function(){
              $("#success-alert").slideUp(700);
            });
          }
      }
      

      function studentEnrollFormModal(){
        
      }
      
      function updateRollnoToUser(){
        var email = $('#main-container').attr('data-email');
        var rollno = $('#main-container').attr('data-rollno');

        var obj = new Object();
        obj['email'] = email;
        obj['userRollno'] = rollno;

        $.ajax({
          type: 'POST',
          url: 'http://localhost:8081/updateRollnoToUser',
          contentType: 'application/json',
          data: JSON.stringify(obj),
          success: function(data){
              console.log(data);
              
                //updateAssignmentToNewlyAddedStudents();
              if(data > 0){
                //alert("updated rollno to user");
                //$("#success-alert").fadeTo(3000, 500).slideUp(500, function(){
                //  $("#success-alert").slideUp(700);
                //});
              } else {
                $("#warning-alert").fadeTo(3000, 500).slideUp(500, function(){
                  $("#warning-alert").slideUp(700);
                });
              }
          },
          error: function(err){
              console.log(err);
          }
      })


      }

      function getMarksTest() {
        var rollNoTest = $('#rollnotest').val();

        rollNoTest = $('#main-container').attr('data-rollno');
        $('#rollnotest').val(rollNoTest);
        if(rollNoTest == "" || rollNoTest == undefined || rollNoTest == null){
          alert("Unable to get the rollno");
        } else {
          $('#marksAddedtbl>tbody').html('');
          showSpinnerOverlay();
            $.ajax({
            type: "GET",
            url: "http://localhost:8081/getTestMarksByRollno/"+rollNoTest,
            success: function(data) {
              
                hideSpinnerOverlay();
                if(data == null || data==="" || data.length==0){
                  showAlert('No data found', 'warning','TestMarks');
                  //$("#success-TestMarks").fadeTo(3000, 500).slideUp(500, function(){
                  //  $("#success-TestMarks").slideUp(700);
                  //});
                } else {
                  fillTestMarksTable(data);
                }
              },
            error: function (error) {
              hideSpinnerOverlay();
              alert("error " + error);
              }
            });
        }
      }

      function fillTestMarksTable(data) {
        if(data !=null && data!=="" && data.length>0){
          data = JSON.parse(data);
          data.forEach(e => {
            $('#marksAddedtbl>tbody').append('<tr><td>'+e.rollNoTest+'</td><td>'+e.subject+'</td><td>'+e.test+'</td><td>'+e.marks+'</td><td>'+''+'</td></tr>');

          })
          $('.marksAddedJson').html('');
        } else {

        }

      }

      function getNotes() {
        $('#myModal3').modal();
      }

      $('#btnGetNotes').click(function() {
        //$('.spinnerInlineBtn').attr('style', 'display: flex-inline');
        
        getNotesGETCall();
        //$('.spinnerInlineBtn').attr('style', 'display: none');
      })

      function getNotesGETCall() {

        var semesterInput = $('#semesterNotes').val();

        function validateGetNotesField(semesterInput) {
          var isValid = true;
          if(semesterInput == null || $.isEmptyObject(semesterInput) || !$.isNumeric(semesterInput)){
            isValid = false;
          }


          if(semesterInput < 1 || semesterInput > 8){
            isValid = false;
          }
          return isValid;
        }

        if(validateGetNotesField(semesterInput)){

        showSpinnerOverlay();
        $('#notesDetailsTbl>tbody').html('');
        //showLoadingSpinner();
        
        $.ajax({
          type: "GET",
          dataType: "json",
          url: "http://localhost:8081/getNotesBySemester/"+semesterInput,
          contentType: 'aaplication/json',
          success: function(data) {
              $('#myModal3').modal('hide');
              $('#spinnerContainer').addClass('d-none');
              //hideLoadingSpinner();
              hideSpinnerOverlay();
              $('#semesterNotes').val('');
              if(data != null && data.length==0){
                showAlert('No data found', 'warning');
              } else {
                fillStudentsNotesTable(data);
              }
            },
            error: function (error) {
              //hideLoadingSpinner();
              hideSpinnerOverlay();
              $('#spinnerContainer').addClass('d-none');
              alert("error " + error);
              
            }
          });

        } else {
          alert("Semester values should between [1-8] ");
        }

      }

      function fillStudentsNotesTable(data){
        
        $('#notesDetailsTbl>tbody').html('');

              if(data != null && data.length > 0) {
                var ctr = 0;
                data.forEach(e => {
                  var linkEnableDisableHtml =  "<button id='"+e.noteDetailsId+"' class='btn btn-link downloadNoteFileLink' data-code='"+e.code+"' style=' font-weight:500;margin:0; padding:0; text-align:center; vertical-align:middle; text-decoration:none;'><i class='fa fa-download'></i> Download</button>";
                  $('#notesDetailsTbl>tbody').append('<tr><td>'+(++ctr)+'</td><td>'+e.branch+'</td><td>'+e.semester+'</td><td>'+e.subject+'</td><td>'
                    +e.filename+'</td><td>'+linkEnableDisableHtml+'</td></tr>');
                })
              } else {
                $("#success-alert").fadeTo(3000, 500).slideUp(500, function(){
                  $("#success-alert").slideUp(700);
                });
              }


              $('.downloadNoteFileLink').click(function(){
                showSpinnerOverlay();
                var fileId = $(this).attr('id');
                const apiUrl = 'http://localhost:8081/getNote/'+fileId;

                fetch(apiUrl, {
                  method: 'GET',
                })
                .then(response => {
                  if (!response.ok) {
                    throw new Error('Network response was not ok.');
                  }
                  return response.json();
                })
                .then(data => {
                  var blobFile = data.fileNotes;
                  const decodedByteArray = decodeBase64ByteArray(blobFile);

                  function decodeBase64ByteArray(base64String) {
                      const binaryString = atob(base64String);
                      const byteArray = new Uint8Array(binaryString.length);
                      for (let i = 0; i < binaryString.length; i++) {
                          byteArray[i] = binaryString.charCodeAt(i);
                      }
                      return byteArray;
                  }

                  // console.log(blobFile);
                  // Uint8Array.from(bData, b => b.charCodeAt(0));
                  // const base64String = btoa(String.fromCharCode(...new BigUint64Array(Uint8Array.from(blobFile, b => b.charCodeAt(0)))));
                  // console.log(base64String);
                  const blob = new Blob([decodedByteArray], {type: 'application/octet-stream'});
                  // var blobFileEx = new Blob([(blobFile)], {type: 'application/pdf'});

                  // Create a download link and set its attributes
                  const downloadLink = document.createElement('a');
                  downloadLink.href = URL.createObjectURL(blob);
                  
                  // Replace 'filename.ext' with the desired name of the downloaded file
                  var originalDateTime = new Date();

                  var modifiedDateTimeStr = formatDate(originalDateTime);
                  function formatDate(dateTime) {
                    var year = dateTime.getFullYear();
                    var month = String(dateTime.getMonth() + 1).padStart(2, '0');
                    var day = String(dateTime.getDate()).padStart(2, '0');
                    var hours = String(dateTime.getHours()).padStart(2, '0');
                    var minutes = String(dateTime.getMinutes()).padStart(2, '0');
                    var seconds = String(dateTime.getSeconds()).padStart(2, '0');

                    // Modify the format as needed (e.g., "YYYY-MM-DD HH:mm:ss")
                    return year + '' + month + '' + day + '' + hours + '' + minutes + '' + seconds;
                  }
                  
                  downloadLink.download = data.filename;

                  // Append the link to the document
                  document.body.appendChild(downloadLink);

                  // Simulate a click on the link to trigger the download
                  downloadLink.click();

                  // Remove the link from the document after the download is triggered
                  document.body.removeChild(downloadLink);
                  hideSpinnerOverlay();
                })
                .catch(error => {
                  console.error('Error:', error);
                  $("#my-alert").fadeTo(3000, 500).slideUp(500, function(){
                    $("#my-alert").fadeOut(700);
                  });
                });

              })

      }


    function submitAssignment(){

      
      var roll = $('#rollNoInput').val();
      var code = $('#assignmentCode option:selected').attr('value');
        
        if(roll !== '' && roll != null && code !== null && code!=='' && code !=='0'){

          const assgnmntFile = document.getElementById('submitAssignmentFile').files[0];
          
          if (!assgnmntFile) {
            alert('Please select a file to upload.');
            return;
          }
          showSpinnerOverlay();
          const formData = new FormData();
          formData.append('file', assgnmntFile);
          formData.append('fileext', assgnmntFile.type);
          formData.append('rollno', roll);
          formData.append('code', code);
          fetch('http://localhost:8081/updateStudentAssignments', {
            method: 'POST',
            body: formData
          })
          .then(response => {
            hideSpinnerOverlay();
            if (response.ok) {
              showAlert('File uploaded successfully!','success');
              getSubmittedAsgnmnts();
              $('#myModal2').modal('hide');
              //$('#rollNoInput').val('');
              $('#assignmentCode').val(0);
              $('#submitAssignmentFile').val('');
              $('#assignmentsTxt').val('');
            } else {
              alert('File upload failed.');
              //showAlert('File uploaded successfully!','danger');
            }
          })
          .catch(error => {
            hideSpinnerOverlay();
            console.error('Error:', error);
            $("#my-alert").fadeTo(3000, 500).slideUp(500, function(){
              $("#my-alert").fadeOut(700);
            });
          });
          
        }else{
          hideSpinnerOverlay();
          alert("Please enter valid values");
        }
    }

    $('#getAssignmentBtn').click(function() {
      var rn = $('#main-container').attr('data-rollno');
      if($('#rollNoInput').val() !=='' && $('#rollNoInput').val()!==null || rn !=null){
        getAssignmentsByRollno(rn);
        $('#rollNoInput').val(rn);
        $('#rollNoInput').prop('disabled',true);
      }else {
        alert('Roll No not found, please check if you have enrolled into the system');
      }
    })

    function getAssignmentsByRollno(rn) {
      showSpinnerOverlay();
      $('#assignmentCode').html('');
      $('#assignmentCode').append($('<option></option>').attr('value', '0').text('--SELECT--'));
      var rollNo = rn;
      $.ajax({
          type: "GET",
          url: "http://localhost:8081/getAssignmentsByRollno/" + rollNo,
          contentType: 'aaplication/json',
          success: function(data) {
              hideSpinnerOverlay();
              if(data.length==0){
                showAlert("No Assignment Codes Found", "warning");
              } else {
                showAlert("Assignment Codes Found", "success");
              }
              if(data != null){
                
                data.forEach(element => {
                  $('#assignmentCode').append($('<option></option>').attr('value', element.code).attr('data-value', element.assignment).text(element.code));
                })

                
                // $('#assignmentsTxt').text('');
                // var resp = '';
                // data = data.replace('[','').replace(']','').split(', ');
                // data.forEach(element => {
                //   resp = resp+element+"\n";
                // })
                // $('#assignmentsTxt').text(resp);
              }
              // fillStudentDetailsTbl(data);

          },
          error: function (error) {
              hideSpinnerOverlay();
              alert("error " + error);
              $('#assignmentsTxt').text('No Assignments Found');
              //$("#success-dange3").fadeTo(3000, 500).slideUp(500, function(){
              //    $("#success-dange3").slideUp(700);
              //});
          }
      });

      $("#assignmentCode").change(function() {
        
        //$('#assignmentsTxt').text('');
        var selectedValue = $("#assignmentCode option:selected").val();
        var dataValue = $("#assignmentCode option:selected").attr('data-value');
        
        var resp = '';
        
        if(dataValue !== undefined){
          var data1 = dataValue.split(', ');
          data1.forEach(element => {
            resp = resp+element+"\n";
          })
        }
        $('#assignmentsTxt').val(resp);
        })

    }

    function getStudentDetails(rollno) {
      var rn = $('#rollno').val();
      if(rollno !=undefined){
        rn = rollno;
      }
      if(rn != null && rn !=undefined && rn !==""){

        $.ajax({
          type: "GET",
          dataType: "json",
          url: "http://localhost:8081/getStudentDetails/" + rn,
          contentType: 'aaplication/json',
          success: function(data) {
            
              console.log(data);
              fillStudentDetailsTbl(data);
          },
          error: function (error) {
            
              alert("error " + error);
              //$("#success-dange3").fadeTo(3000, 500).slideUp(500, function(){
                //  $("#success-dange3").slideUp(700);
              //});
            }
          });
        }
    }

    function fillStudentDetailsTbl(data) {
          $('#studentEnrlmtFormModal').modal('hide');
          //$('#studentDetailsTbl>tbody').html('');
          $('.jumbotronClz').hide();
          $('.studentDetailsBlock').show();
          if(data!=null && data.rollno != null && data.fullname != null && data.semester != null){
            //$('#studentDetailsTbl>tbody').append('<tr><td>'+data.rollno+'</td><td>'+data.fullname+'</td><td>'+data.contactno+'</td><td>'+data.enrollmentId+'</td><td>'
              //+data.semester+'</td><td>'+data.branch+'</td><td>'+data.previousSemResult+'</td></tr>');

              $('.rollnoVal').text(data.rollno);
              $('.fullnameVal').text(data.fullname);
              $('.contactVal').text(data.contactno);
              $('.enrNoVal').text(data.enrollmentId);
              $('.semesterVal').text(data.semester);
              $('.emailVal').text($('#main-container').attr('data-email'));
              $('.branchVal').text(data.branch);
              $('.prevSemResultVal').text(data.previousSemResult);
              $('.mentorNameVal').text(data.mentorName);
          } else {
            $("#success-alert").fadeTo(3000, 500).slideUp(500, function(){
              $("#success-alert").slideUp(700);
            });
          }
        }


    function addStudent() {
        
        var jData = new Object();

        var enrollmentId = $('#enrollmentId').val();
        var branch = $('#branch').val();
        var contactno = $('#contactno').val();
        var fullname = $('#fullname').val();
        var previousSemResult = $('#previousSemResult').val();
        var rollno = $('#rollno').val();
        var semester = $('#semester').val();

        var studentDetailsId = $('#main-container').attr('data-studentDetailsId');

        var mentorName = $('#main-container').attr('data-mentorname');

        function validateAddStudentFields(enrollmentId,branch,contactno,fullname,previousSemResult,rollno,semester) {
          var isValid = true;
          const alphanumericRegex = /^[a-zA-Z][a-zA-Z0-9]*$/;
          const alphabetRegex = /^(?!^\s+$)[A-Za-z\s]+$/;
          const numericRegex = /^[0-9]+$/;

          if(enrollmentId !="" && !numericRegex.test(enrollmentId)){
            isValid = false;
          }
          if(branch == null || $.isEmptyObject(branch) || !alphabetRegex.test(branch)){
            isValid = false;
          }
          if(contactno == null || $.isEmptyObject(contactno) || !numericRegex.test(contactno)){
            isValid = false;
          }

          if(fullname == null || $.isEmptyObject(fullname) || !alphabetRegex.test(fullname)){
            isValid = false;
          }

          if(previousSemResult == null || $.isEmptyObject(previousSemResult) || !alphabetRegex.test(previousSemResult)){
            isValid = false;
          }

          if(rollno == null || $.isEmptyObject(rollno) || !numericRegex.test(rollno)){
            isValid = false;
          }

          if(semester == null || $.isEmptyObject(semester) || !numericRegex.test(semester) || semester < 1 || semester > 8){
            isValid = false;
          }
          return isValid;
        }

        if(validateAddStudentFields(enrollmentId,branch,contactno,fullname,previousSemResult,rollno,semester)){
          $('#main-container').attr('data-rollno',rollno);

          jData['enrollmentId'] = enrollmentId;
          jData['branch'] = branch;
          jData['contactno'] = contactno;
          jData['fullname'] = fullname;
          jData['previousSemResult'] = previousSemResult;
          jData['rollno'] = rollno;
          jData['semester'] = semester;
          jData['mentorName'] = mentorName;
          if(studentDetailsId != undefined){
            jData['studentDetailsId'] = studentDetailsId;
          }
            $.ajax({
                type: 'POST',
                url: 'http://localhost:8081/student_details',
                contentType: 'application/json',
                data: JSON.stringify(jData),
                success: function(data){
                  if(studentDetailsId != undefined){
                    showAlert("Student Enrollment Updated Successfully","success");
                    updateRollnoToUser();
                    updateAssignmentToNewlyAddedStudents();
                    if(data > 0){
                      
                      $("#success-alert").fadeTo(3000, 500).slideUp(500, function(){
                        $("#success-alert").slideUp(700);
                      });
                    } else {
                      $("#warning-alert").fadeTo(3000, 500).slideUp(500, function(){
                        $("#warning-alert").slideUp(700);
                      });
                    }
                  } else {

                    updateRollnoToUser();
                    showAlert("You have been enrolled into the system !","success");
                    updateAssignmentToNewlyAddedStudents();
                    if(data > 0){
                      
                      $("#success-alert").fadeTo(3000, 500).slideUp(500, function(){
                        $("#success-alert").slideUp(700);
                      });
                    } else {
                      $("#warning-alert").fadeTo(3000, 500).slideUp(500, function(){
                        $("#warning-alert").slideUp(700);
                      });
                    }
                  }
                },
                error: function(err){
                    console.log(err);
                }
            })
        } else {
          alert("Please enter valid values");
        }
          
    }

    function updateAssignmentToNewlyAddedStudents() {
      
      $.ajax({
      type: "GET",
      dataType: "json",
      url: "http://localhost:8081/updateAssignmentsToNewlyAddedStudents",
      contentType: 'aaplication/json',
      success: function(data) {
          callgetStudentDetails();
          $('#spinnerContainer').addClass('d-none');
        },
        error: function (error) {
          $('#spinnerContainer').addClass('d-none');
          alert("error " + error);
          
        }
      });
  }

  })
</script>
